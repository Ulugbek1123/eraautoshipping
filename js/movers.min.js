$(document).ready((function(){$(".states-to-slider .state-cards").slick({infinite:!0,autoplay:!0,dots:!0,slidesToShow:3,slidesToScroll:1,prevArrow:'<button class="slide-arrow prev-arrow"><img src="/img/movers/v2/arrow-left.svg" class="img-fluid"></button>',nextArrow:'<button class="slide-arrow next-arrow"><img src="/img/movers/v2/arrow-right.svg" class="img-fluid"></button>',responsive:[{breakpoint:992,settings:{slidesToShow:2,slidesToScroll:1,arrows:!1}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1}}]}),$(".states-from-slider .state-cards").slick({infinite:!0,autoplay:!0,dots:!0,slidesToShow:3,slidesToScroll:1,prevArrow:'<button class="slide-arrow prev-arrow"><img src="/img/movers/v2/arrow-left.svg" class="img-fluid"></button>',nextArrow:'<button class="slide-arrow next-arrow"><img src="/img/movers/v2/arrow-right.svg" class="img-fluid"></button>',responsive:[{breakpoint:992,settings:{slidesToShow:2,slidesToScroll:1,arrows:!1}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1}}]}),$(".nav-link").click((function(){$("html, body").animate({scrollTop:$(".tab-pane.show").offset().top-180},500)})),$(".cta-scroll").click((function(t){t.preventDefault(),$("html, body").animate({scrollTop:$(".banner-area").offset().top},600),$("#pickup_address").focus()})),$(".calc-input.from").on("click",".list-group-item",(function(){$("#delivery_address").val()||$("#delivery_address").focus()})),$(".calc-input.to").on("click",".list-group-item",(function(){""==$("#house_type").val()&&setTimeout((function(){$("#house_type").trigger("click")}),100)})),$(".calc-input.size").on("click",".dropdown-item",(function(){""==$("#datepicker").val()&&$("#datepicker").datepicker("show")})),$("#datepicker").datepicker({minDate:0,maxDate:"+1M"}),$("#datepicker").datepicker("option","dateFormat","d M, yy"),$("input[name='house_type']").attr("data-value","a_few_items"),$(".dropdown-item").click((function(){$(this).parents().siblings(".dropdown-toggle").first().val($(this).find("span").first().text()),$(this).parents().siblings(".dropdown-toggle").first().attr("data-value",$(this).data("value"))})),$("#calculator-form").submit((function(e){e.preventDefault(),$("#calculate-cost").attr("disabled",!0),$("#calculate-cost .spinner-border").removeClass("d-none"),"function"==typeof gtag&&gtag("event","click",{event_category:"button",event_label:"calculate moving cost"});let a=$("input[name='pickup_address']").val().split(", ")[$("input[name='pickup_address']").val().split(", ").length-2],i=$("input[name='delivery_address']").val().split(", ")[$("input[name='delivery_address']").val().split(", ").length-2],s=$("input[name='pickup_address']").val().split(", ")[$("input[name='pickup_address']").val().split(", ").length-1],r=$("input[name='delivery_address']").val().split(", ")[$("input[name='delivery_address']").val().split(", ").length-1];$("#pickup-city").text(a+", "+s),$("#delivery-city").text(i+", "+r),fetch(window.NEXUS_API_URL+"/api/moving-calculator",{method:"post",body:JSON.stringify({pickup_address:$("input[name='pickup_address']").attr("data-selected"),delivery_address:$("input[name='delivery_address']").attr("data-selected"),house_type:$("input[name='house_type']").attr("data-value")}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(t=>t.json()).then(e=>{let a=e.data.result.quote,i=e.data.result.transport_quote;a.professional&&a.professional.price_low>0&&a.professional.price_high>0?($("#professional-price").text(""),$("#professional-price").append(`<span>${t.format(a.professional.price_low)}</span>`)):($("#professional-price").addClass("call").text(""),$("#professional-price").append('<a href="tel:(224) 935-5324">(224) 935-5324</a><p class="no-price">Call for pricing</p>')),a.container&&a.container.price_low>0&&a.container.price_high>0?($("#container-price").text(""),$("#container-price").append(`<span>${t.format(a.container.price_low)}</span>`)):($("#container-price").addClass("call").text(""),$("#container-price").append('<a href="tel:(224) 935-5324">(224) 935-5324</a><p class="no-price">Call for pricing</p>')),a.rental_truck&&a.rental_truck.price_low>0&&a.rental_truck.price_high>0?($("#truck-price").text(""),$("#truck-price").append(`<span>${t.format(a.rental_truck.price_low)}</span>`)):($("#truck-price").addClass("call").text(""),$("#truck-price").append('<a href="tel:(224) 935-5324">(224) 935-5324</a><p class="no-price">Call for pricing</p>')),i&&i.prices?($("#auto-shipping-price").text(""),$("#auto-shipping-price").append(""+t.format(i.prices.economy)),$("#mover-types .nav-item:nth-child(4)").click((function(){window.open("/car-shipping-calculator/","_blank")||window.location.replace("/car-shipping-calculator/")}))):($("#auto-shipping-price").text(""),$("#auto-shipping-price").append("<a href='/car-shipping-calculator/' target='_blank' id='auto-shipping-link'>Visit our calculator</a>"),$("#mover-types .nav-item:nth-child(4)").click((function(){window.open("/car-shipping-calculator/","_blank")||window.location.replace("/car-shipping-calculator/")}))),$(".calculator-results").fadeIn(),$(".moving-article").fadeOut(),$(".calculator-results").css("display","block"),$("#calculate-cost .spinner-border").addClass("d-none"),$("#calculate-cost").prop("disabled",!1);var n=$(".calculator-results").offset().top;$("html, body").stop().animate({scrollTop:n-90},500),$("calculator-results"),$(".company-card").each((function(){let t=$(this).find(".pickup-state").text().replace(/\s+/g,", ").split(", "),e=$(this).find(".dropoff-state").text().replace(/\s+/g,", ").split(", ");t.includes(s)&&e.includes(r)?($(".company-cards").fadeIn(),$(this).fadeIn()):$(this).fadeOut()}))}).catch(t=>t)})),$(".choose-price").click((function(t){let e=$(this).attr("data-val");$(".company-cards").find(".company-card").fadeOut(),$(".company-cards").find(".company-card[data-type="+e+"]").fadeIn(),0===$(".company-cards").find(".company-card[data-type="+e+"]").length?$("#empty-result").fadeIn():$("#empty-result").fadeOut()})),$("input[name='pickup_address'], input[name='delivery_address']").focus((function(){$(this).addClass("focused"),$(this).siblings("img").addClass("focused")})),$("input[name='pickup_address'], input[name='delivery_address']").focusout((function(){$(this).removeClass("focused"),$(this).siblings("img").removeClass("focused")}));let t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0})}));var req=null;$(".address_input").on("input",(function(){processInputChange($(this))}));const processInputChange=debounce(t=>searchLocation(t),500);function searchLocation(t){if(t.val()){req&&req.abort();let e=t.siblings(".list-group");req=$.get(`${window.NEXUS_API_URL}/api/locations?q=${t.val().trim()}`,(function(a){e.html(""),a.data.map((e,a)=>{a<5&&(t.addClass("fill"),e.zip?t.siblings(".list-group").append(`<div type="button" class="list-group-item list-group-item-action text-left border-0"><p>${e.zip}, ${e.city}, ${e.state}</p></div>`):t.siblings(".list-group").append(`<div type="button" class="list-group-item list-group-item-action text-left border-0"><p>${e.city}, ${e.state}</p></div>`))})}))}}function debounce(t,e=300){let a;return(...i)=>{clearTimeout(a),a=setTimeout(()=>{t.apply(this,i)},e)}}$(".address_input").on("input",(function(){})),$(document).click((function(t){let e=$(t.target).parents(".list-group").first().siblings(".address_input").first();$(t.target).parents(".list-group").length?($(t.target).parents(".list-group").html(""),e.attr("data-selected",$(t.target).text()),e.val($(t.target).text())):(e.val(""),$(".list-group").html(""))}));